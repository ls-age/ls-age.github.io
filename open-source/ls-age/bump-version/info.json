{"nameWithOwner":"ls-age/bump-version","url":"https://github.com/ls-age/bump-version","description":"Automated npm and GitHub releases based on commit messages","pushedAt":"2021-01-18T22:37:57Z","stargazers":{"totalCount":0},"releases":{"nodes":[{"tagName":"v1.0.0-beta.6"}]},"readme":{"title":"@ls-age/bump-version","slug":"ls-agebump-version","sections":[{"title":"How it works","slug":"how-it-works","children":[{"title":"Example commit messages","slug":"example-commit-messages"}]},{"title":"Installation","slug":"installation"},{"title":"Usage","slug":"usage","children":[{"title":"In a CI environment (preferred)","slug":"in-a-ci-environment-preferred"},{"title":"Options","slug":"options"}]}],"content":"<h1 id=\"ls-agebump-version\">@ls-age/bump-version</h1><blockquote>\n<p>Automated <strong>npm and GitHub releases</strong> based on commit messages.\nFollow the <a href=\"https://github.com/angular/angular.js/blob/master/DEVELOPERS.md#commits\">Angular commit message guideline</a>, <code>bump-version</code> does the rest!</p>\n</blockquote>\n<p><a href=\"https://circleci.com/gh/ls-age/bump-version\"><img src=\"https://circleci.com/gh/ls-age/bump-version.svg?style=svg\" alt=\"CircleCI\"></a></p>\n<h2 id=\"how-it-works\">How it works</h2><p><code>bump-version</code> assues you have two release branches: <code>master</code> and <code>beta</code>. Each commit in these branches that is marked as a <em>fix</em>, <em>feature</em> or <em>breaking change</em> in it&#39;s commit message triggers a new release.</p>\n<ul>\n<li>Changes to <code>beta</code> trigger <em>prereleases</em>, changes to <code>master</code> trigger regular releases.</li>\n<li>A <em>fix</em> causes a patch version update (e.g. <code>1.2.3 -&gt; 1.2.4</code>), a <em>features</em> increments the minor (<code>1.2.3 -&gt; 1.3.0</code>) and a <em>breaking changes</em> change the major version component (<code>1.2.3 -&gt; 2.0.0</code>).</li>\n<li>For each release, the changelog is updated to contain the latest changes.</li>\n<li>The new changelog is pushed to the git remote</li>\n<li>A new git tag is created for the release, with release-files (the contents of the <code>./out/</code> directory by default) added.</li>\n<li>A GitHub release is created with release notes from the git history</li>\n<li>A new <em>npm</em> release is created and published if the repository&#39;s <code>package.json</code> doesn&#39;t contain <code>&quot;private&quot;: true</code>.</li>\n</ul>\n<h3 id=\"example-commit-messages\">Example commit messages</h3><blockquote>\n<p>For further information take a look at the <a href=\"https://github.com/angular/angular.js/blob/master/DEVELOPERS.md#commits\">complete guideline in the angular respoitory</a>.</p>\n</blockquote>\n<ul>\n<li><code>fix(scope): Prevent an error</code>: Triggers a <em>patch</em> release</li>\n<li><code>feat(scope): Something new added</code>: Triggers a <em>minor</em> release</li>\n<li><code>break(scope): Major API change</code>: Triggers a <em>major</em> release</li>\n</ul>\n<h2 id=\"installation\">Installation</h2><p>With <a href=\"https://nodejs.org\">nodejs</a> installed run <code>npm install --save-dev @ls-age/bump-version</code> to add <code>bump-version</code> as a dependency.</p>\n<h2 id=\"usage\">Usage</h2><h3 id=\"in-a-ci-environment-preferred\">In a CI environment (preferred)</h3><ul>\n<li>Create a new <strong>GitHub API Token</strong> (with write access to releases) the script should use.</li>\n<li>Make sure your CI environment is set up with <strong>push access</strong> to your repository.</li>\n<li><strong>Log into npm</strong> with your user account (Using a token or username and password)</li>\n<li>As the last step in your build run the <em>release</em> command: <strong><code>npx bump-version --gh-token &lt;GITHUB API TOKEN&gt;</code></strong></li>\n</ul>\n<blockquote>\n<p>Take a look at <a href=\"https://github.com/ls-age/bump-version/blob/master/.circleci/config.yml\">this respository&#39;s CircleCI configuration</a> for a real-world usage example.</p>\n</blockquote>\n<h3 id=\"options\">Options</h3><p>For available options run <code>npx bump-version --help</code>.</p>\n"}}