<!doctype html> <html lang=en> <head> <meta charset=utf-8> <meta content="width=device-width" name=viewport> <meta content=#FF2D55 name=theme-color> <base href=/ > <link href=css/base.css rel=stylesheet> <link href=manifest.json rel=manifest> <link href=images/icons/icon-apple-57.png rel=apple-touch-icon sizes=57x57> <link href=images/icons/icon-apple-60.png rel=apple-touch-icon sizes=60x60> <link href=images/icons/icon-apple-72.png rel=apple-touch-icon sizes=72x72> <link href=images/icons/icon-apple-76.png rel=apple-touch-icon sizes=76x76> <link href=images/icons/icon-apple-114.png rel=apple-touch-icon sizes=114x114> <link href=images/icons/icon-apple-120.png rel=apple-touch-icon sizes=120x120> <link href=images/icons/icon-apple-144.png rel=apple-touch-icon sizes=144x144> <link href=images/icons/icon-apple-152.png rel=apple-touch-icon sizes=152x152> <link href=images/icons/icon-apple-180.png rel=apple-touch-icon sizes=180x180> <link href=images/icons/icon-android-192.png rel=icon sizes=192x192 type=image/png> <link href=images/icons/icon-favicon-16.png rel=icon sizes=16x16 type=image/png> <link href=images/icons/icon-favicon-32.png rel=icon sizes=32x32 type=image/png> <link href=images/icons/icon-favicon-96.png rel=icon sizes=96x96 type=image/png> <link href=images/icons/mask.svg rel=mask-icon color=#FF2D55> <meta content=#ffffff name=msapplication-TileColor> <meta content=images/icons/icon-ms-144.png name=msapplication-TileImage> <link href=client/main.2395954135.css rel=stylesheet><link href=client/chunk.2e7dcd8d.css rel=stylesheet><link href=client/chunk.f928a952.css rel=stylesheet> <noscript id=sapper-head-start></noscript><title>ls-age/svelte-mail · ls-age</title><meta content="Renders Svelte components for emails. Inlines styles and renders additional plain text version." name=Description><noscript id=sapper-head-end></noscript> </head> <body> <div id=sapper> <nav aria-label="main navigation" class="svelte-x1kitr is-fixed-top is-transparent navbar" role=navigation> <div class="svelte-x1kitr navbar-brand"> <div class="svelte-x1kitr burger navbar-burger" aria-expanded=false aria-label=menu role=button> <span class=svelte-x1kitr aria-hidden=true></span> <span class=svelte-x1kitr aria-hidden=true></span> <span class=svelte-x1kitr aria-hidden=true></span> </div> </div> </nav> <main class=svelte-1m806po> <section class="svelte-1twy1zm hero is-light is-medium"> <div class="svelte-1twy1zm hero-body"> <div class="svelte-1twy1zm container"> <h1 class="svelte-1twy1zm title">ls-age/svelte-mail</h1> <h2 class="svelte-1twy1zm subtitle"> Renders Svelte components for emails. Inlines styles and renders additional plain text version. </h2> <div class="svelte-1twy1zm field is-grouped is-grouped-multiline"> <div class="svelte-1twy1zm control"> <div class="svelte-1twy1zm tags"> <div class="svelte-1twy1zm tags has-addons"> <span class="svelte-1twy1zm tag is-dark">Stars</span> <span class="svelte-1twy1zm tag is-warning">1</span> </div> </div> </div> <div class="svelte-1twy1zm control"> <div class="svelte-1twy1zm tags"> <div class="svelte-1twy1zm tags has-addons"> <span class="svelte-1twy1zm tag is-dark">Current release</span> <span class="svelte-1twy1zm tag is-info">v0.1.1</span> </div> </div> </div> </div> <a href=https://github.com/ls-age/svelte-mail class="svelte-1twy1zm is-dark button is-pulled-right">View on GitHub</a> </div> </div> </section> <div class="is-fixed navbar-shadow svelte-1pf8frh"></div> <section class="svelte-1twy1zm has-background-white section"> <div class="svelte-1twy1zm container"> <div class="svelte-1twy1zm columns under-tabbar"> <div class="svelte-1twy1zm column"> <div class="svelte-1vo2gi6 marked-container"> <div class="svelte-1vo2gi6 marked"> <h1 id=svelte-mail>svelte-mail</h1><blockquote> <p>Renders <a href=https://svelte.dev>Svelte</a> components for emails. Inlines styles and renders additional plain text version.</p> </blockquote> <p><a href=https://circleci.com/gh/ls-age/svelte-mail/tree/master><img alt=CircleCI src="https://circleci.com/gh/ls-age/svelte-mail/tree/master.svg?style=svg"></a></p> <h2 id=installation>Installation</h2><p>Run <code>npm i --save svelte-mail</code>.</p> <h2 id=usage>Usage</h2><p>Simply pass a Svelte component and some options:</p> <p><em><code>./components/Mail.svelte</code></em></p> <pre><code class=language-html><span class=hljs-tag>&lt;<span class=hljs-name>script</span>></span><span class=javascript><span class=hljs-keyword>export</span> <span class=hljs-keyword>let</span> user;</span><span class=hljs-tag>&lt;/<span class=hljs-name>script</span>></span>

<span class=hljs-tag>&lt;<span class=hljs-name>style</span>></span><span class=css><span class=hljs-selector-tag>strong</span> { <span class=hljs-attribute>color</span>: red }</span><span class=hljs-tag>&lt;/<span class=hljs-name>style</span>></span>

<span class=hljs-tag>&lt;<span class=hljs-name>strong</span>></span>Hello, {user}<span class=hljs-tag>&lt;/<span class=hljs-name>strong</span>></span></code></pre> <p><em><code>./sendMail.js</code></em></p> <pre><code class=language-javascript><span class=hljs-keyword>import</span> { renderMail } <span class=hljs-keyword>from</span> <span class=hljs-string>'svelte-mail'</span>;
<span class=hljs-keyword>import</span> Mail <span class=hljs-keyword>from</span> <span class=hljs-string>'./components/Mail.svelte'</span>;

<span class=hljs-keyword>async</span> <span class=hljs-function><span class=hljs-keyword>function</span> <span class=hljs-title>sendMail</span>(<span class=hljs-params></span>) </span>{
  <span class=hljs-keyword>const</span> { html, text } = <span class=hljs-keyword>await</span> renderMail(Mail, { <span class=hljs-attr>data</span>: { <span class=hljs-attr>user</span>: <span class=hljs-string>'World'</span> } });

  <span class=hljs-comment>/*
    `html` contains the rendered html string:
    "&lt;strong style="color: red">Hello, World&lt;/strong>"

    `text` contains the rendered plain text message:
    "Hello, World"
  */</span>

  <span class=hljs-comment>// <span class=hljs-doctag>TODO:</span> Send mail, e.g. using nodemailer...</span>
}

sendMail()
  .catch(<span class=hljs-built_in>console</span>.error);</code></pre> <p><strong>Note: The mail component must be compiled for server side rendering.</strong></p> <h2 id=options>Options</h2><p>Internally, this module uses <a href=https://www.npmjs.com/package/juice>juice</a> to inline styles and <a href=https://www.npmjs.com/package/html-to-text>html-to-text</a> to render plain text messages. All options passed to the <em>renderMail</em> function will be passed to them:</p> <pre><code class=language-javascript>renderMail(Mail, {
  <span class=hljs-attr>data</span>: {},
  <span class=hljs-comment>// add any juice options here, e.g.:</span>
  extraCss: <span class=hljs-string>'strong { text-decoration: underline }'</span>,
  <span class=hljs-comment>// add any html-to-text options here, e.g.:</span>
  uppercaseHeadings: <span class=hljs-literal>false</span>,
});</code></pre> </div> </div> </div> <div class="svelte-1twy1zm column is-2 toc"> <ul class=list> <li> <a href=open-source/ls-age/svelte-mail#installation class=svelte-9yxbi5>Installation</a> <li> <a href=open-source/ls-age/svelte-mail#usage class=svelte-9yxbi5>Usage</a> <li> <a href=open-source/ls-age/svelte-mail#options class=svelte-9yxbi5>Options</a> </li> </ul> </div> </div> </div> </section> </main> <footer class="svelte-1b3l4c2 footer"> <div class="svelte-1b3l4c2 content has-text-centered"> <p class=svelte-1b3l4c2> © 2019 Lukas Hechenberger </p> <p class=svelte-1b3l4c2> Made with <a href=https://sapper.svelte.technology>Sapper</a> and <a href=https://bulma.io>Bulma</a>. Check it out on <a href=https://github.com/ls-age/landing-page>GitHub</a>. </p> </div> </footer> </div> <script>__SAPPER__={baseUrl:"",preloaded:[{},null,null,null,(function(a){return {nameWithOwner:"ls-age\u002Fsvelte-mail",url:"https:\u002F\u002Fgithub.com\u002Fls-age\u002Fsvelte-mail",description:"Renders Svelte components for emails. Inlines styles and renders additional plain text version.",pushedAt:"2019-06-24T01:28:46Z",stargazers:{totalCount:1},releases:{nodes:[{tagName:"v0.1.1"}]},readme:{title:a,slug:a,sections:[{title:"Installation",slug:"installation"},{title:"Usage",slug:"usage"},{title:"Options",slug:"options"}],content:"\u003Ch1 id=\"svelte-mail\"\u003Esvelte-mail\u003C\u002Fh1\u003E\u003Cblockquote\u003E\n\u003Cp\u003ERenders \u003Ca href=\"https:\u002F\u002Fsvelte.dev\"\u003ESvelte\u003C\u002Fa\u003E components for emails. Inlines styles and renders additional plain text version.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fcircleci.com\u002Fgh\u002Fls-age\u002Fsvelte-mail\u002Ftree\u002Fmaster\"\u003E\u003Cimg src=\"https:\u002F\u002Fcircleci.com\u002Fgh\u002Fls-age\u002Fsvelte-mail\u002Ftree\u002Fmaster.svg?style=svg\" alt=\"CircleCI\"\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Ch2 id=\"installation\"\u003EInstallation\u003C\u002Fh2\u003E\u003Cp\u003ERun \u003Ccode\u003Enpm i --save svelte-mail\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Ch2 id=\"usage\"\u003EUsage\u003C\u002Fh2\u003E\u003Cp\u003ESimply pass a Svelte component and some options:\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cem\u003E\u003Ccode\u003E.\u002Fcomponents\u002FMail.svelte\u003C\u002Fcode\u003E\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-html\"\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Elet\u003C\u002Fspan\u003E user;\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Estyle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"css\"\u003E\u003Cspan class=\"hljs-selector-tag\"\u003Estrong\u003C\u002Fspan\u003E { \u003Cspan class=\"hljs-attribute\"\u003Ecolor\u003C\u002Fspan\u003E: red }\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Estyle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Estrong\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003EHello, {user}\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Estrong\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E\u003Cem\u003E\u003Ccode\u003E.\u002FsendMail.js\u003C\u002Fcode\u003E\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-javascript\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E { renderMail } \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E'svelte-mail'\u003C\u002Fspan\u003E;\n\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E Mail \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E'.\u002Fcomponents\u002FMail.svelte'\u003C\u002Fspan\u003E;\n\n\u003Cspan class=\"hljs-keyword\"\u003Easync\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003EsendMail\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-params\"\u003E\u003C\u002Fspan\u003E) \u003C\u002Fspan\u003E{\n  \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E { html, text } = \u003Cspan class=\"hljs-keyword\"\u003Eawait\u003C\u002Fspan\u003E renderMail(Mail, { \u003Cspan class=\"hljs-attr\"\u003Edata\u003C\u002Fspan\u003E: { \u003Cspan class=\"hljs-attr\"\u003Euser\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'World'\u003C\u002Fspan\u003E } });\n\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F*\n    `html` contains the rendered html string:\n    \"&lt;strong style=\"color: red\"&gt;Hello, World&lt;\u002Fstrong&gt;\"\n\n    `text` contains the rendered plain text message:\n    \"Hello, World\"\n  *\u002F\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F \u003Cspan class=\"hljs-doctag\"\u003ETODO:\u003C\u002Fspan\u003E Send mail, e.g. using nodemailer...\u003C\u002Fspan\u003E\n}\n\nsendMail()\n  .catch(\u003Cspan class=\"hljs-built_in\"\u003Econsole\u003C\u002Fspan\u003E.error);\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E\u003Cstrong\u003ENote: The mail component must be compiled for server side rendering.\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Ch2 id=\"options\"\u003EOptions\u003C\u002Fh2\u003E\u003Cp\u003EInternally, this module uses \u003Ca href=\"https:\u002F\u002Fwww.npmjs.com\u002Fpackage\u002Fjuice\"\u003Ejuice\u003C\u002Fa\u003E to inline styles and \u003Ca href=\"https:\u002F\u002Fwww.npmjs.com\u002Fpackage\u002Fhtml-to-text\"\u003Ehtml-to-text\u003C\u002Fa\u003E to render plain text messages. All options passed to the \u003Cem\u003ErenderMail\u003C\u002Fem\u003E function will be passed to them:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-javascript\"\u003ErenderMail(Mail, {\n  \u003Cspan class=\"hljs-attr\"\u003Edata\u003C\u002Fspan\u003E: {},\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F add any juice options here, e.g.:\u003C\u002Fspan\u003E\n  extraCss: \u003Cspan class=\"hljs-string\"\u003E'strong { text-decoration: underline }'\u003C\u002Fspan\u003E,\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F add any html-to-text options here, e.g.:\u003C\u002Fspan\u003E\n  uppercaseHeadings: \u003Cspan class=\"hljs-literal\"\u003Efalse\u003C\u002Fspan\u003E,\n});\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n"}}}("svelte-mail"))]};if('serviceWorker' in navigator)navigator.serviceWorker.register('/service-worker.js');(function(){try{eval("async function x(){}");var main="/client/client.b8ddc127.js"}catch(e){main="/client/legacy/client.2f57b0ec.js"};var s=document.createElement("script");try{new Function("if(0)import('')")();s.src=main;s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="/client/shimport@0.0.11.js";s.setAttribute("data-main",main);}document.head.appendChild(s);}());</script> 